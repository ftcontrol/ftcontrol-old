import{t as G,c as O,a as _}from"../chunks/B7fCNQFO.js";import"../chunks/fmykijIb.js";import{h as N,O as C,P as u,Q as w,V as n,T as g,R as P,i as l,S as D,au as S,ae as Q,a7 as R}from"../chunks/S3wTCJs2.js";import{s as B}from"../chunks/Bhnc8m3J.js";import{e as F,i as L}from"../chunks/DuvXK6z4.js";import{e as I}from"../chunks/BTF_39u6.js";import{i as T}from"../chunks/D8GWnmoE.js";import{o as V}from"../chunks/D7s3lG3v.js";import{i as $}from"../chunks/tGKL2V8i.js";import{s as q}from"../chunks/aIOz5dpF.js";import{t as j,G as E}from"../chunks/CWDL-Jr0.js";import{g as z}from"../chunks/CYeaQbdM.js";function H(i,b,d,c,p,e){var o=i.__className;if(N||o!==d){var t=j(d,c,e);(!N||t!==i.getAttribute("class"))&&(t==null?i.removeAttribute("class"):i.className=t),i.__className=d}else if(e&&p!==e)for(var r in e){var a=!!e[r];(p==null||a!==!!p[r])&&i.classList.toggle(r,a)}return e}var J=G('<div class="trigger svelte-fy4rvm"><p> </p> <progress max="1" class="svelte-fy4rvm"></progress></div>'),K=G("<button> </button>"),U=G('<div class="axis svelte-fy4rvm"><label> </label> <progress max="2" class="svelte-fy4rvm"></progress></div>'),W=G('<h4>Buttons</h4> <div class="buttons svelte-fy4rvm"></div> <h4>Axes</h4> <div class="axes svelte-fy4rvm"></div>',1);function X(i,b){C(b,!0);var d=W(),c=u(w(d),2);F(c,21,()=>b.gamepad.buttons,L,(e,o,t)=>{var r=O(),a=w(r);{var f=s=>{var v=J(),m=g(v),y=g(m);n(m);var x=u(m,2);n(v),P((A,M)=>{B(y,`${A??""} (${M??""}%)`),q(x,l(o).value)},[()=>z.getPS4ButtonLabel(t),()=>(l(o).value*100).toFixed(0)]),_(s,v)},h=s=>{var v=K();let m;var y=g(v,!0);n(v),P((x,A)=>{m=H(v,1,"svelte-fy4rvm",null,m,x),B(y,A)},[()=>({pressed:l(o).pressed}),()=>z.getPS4ButtonLabel(t)]),_(s,v)};$(a,s=>{t===6||t===7?s(f):s(h,!1)})}_(e,r)}),n(c);var p=u(c,4);F(p,21,()=>b.gamepad.axes,L,(e,o,t)=>{var r=U(),a=g(r),f=g(a);n(a);var h=u(a,2);n(r),P(s=>{B(f,`Axis ${t??""} (${s??""})`),q(h,l(o)+1)},[()=>l(o).toFixed(2)]),_(e,r)}),n(p),_(i,d),D()}var Y=G('<div class="gamepad svelte-1bzmxyh"><h3> </h3> <p> </p> <!> <!></div>'),Z=G("<h2>Connected Gamepads</h2> <!>",1);function da(i,b){C(b,!1);let d=Q([]);function c(a){console.log("Gamepad connected:",a.gamepad),e()}function p(a){console.log("Gamepad disconnected:",a.gamepad),e()}function e(){R(d,navigator.getGamepads?Array.from(navigator.getGamepads()).filter(a=>a):[])}function o(){e(),requestAnimationFrame(o)}V(()=>{o()}),T();var t=Z();I("gamepadconnected",S,c),I("gamepaddisconnected",S,p);var r=u(w(t),2);F(r,1,()=>l(d),L,(a,f)=>{var h=Y(),s=g(h),v=g(s,!0);n(s);var m=u(s,2),y=g(m);n(m);var x=u(m,2);E(x,{get gamepad(){return l(f)}});var A=u(x,2);X(A,{get gamepad(){return l(f)}}),n(h),P(()=>{B(v,l(f).id),B(y,`Index: ${l(f).index??""}`)}),_(a,h)}),_(i,t),D()}export{da as component};
