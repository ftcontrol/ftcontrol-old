import{t as u,a as p}from"../chunks/B7fCNQFO.js";import{O as P,T as c,V as i,R as q,i as s,S as w,Y as H,aq as N,Q as J,P as l,a7 as f}from"../chunks/S3wTCJs2.js";import{s as y}from"../chunks/Bhnc8m3J.js";import{i as b}from"../chunks/tGKL2V8i.js";import{d as z}from"../chunks/BTF_39u6.js";import{p as O}from"../chunks/CXT5jp70.js";import{i as a,s as h,g as E}from"../chunks/CYeaQbdM.js";import{G as K}from"../chunks/CWDL-Jr0.js";import{e as W,i as X}from"../chunks/DuvXK6z4.js";var Z=(d,r,n)=>r.onselect(s(n)),tt=u('<button class="svelte-nudple"> </button>'),et=u("<section></section>");function G(d,r){P(r,!0);var n=et();W(n,21,()=>a.opModes.filter(_=>_.flavor==r.flavour),X,(_,m)=>{var o=tt();o.__click=[Z,r,m];var k=c(o);i(o),q(()=>y(k,`${s(m).name??""} / ${s(m).group??""}`)),p(_,o)}),i(n),p(d,n),w()}z(["click"]);var ot=(d,r)=>r("autos"),at=(d,r)=>r("teleops"),st=u('<div class="modal autos svelte-qkyd7t"><!></div>'),rt=u('<div class="modal teleops svelte-qkyd7t"><!></div>'),nt=u('<p class="title svelte-qkyd7t">Nothing selected</p>'),lt=u('<p class="title svelte-qkyd7t"><span class="title_small svelte-qkyd7t"> </span> </p>'),it=(d,r)=>{h.sendMessage("init_opmode",[s(r).name])},ct=()=>{h.sendMessage("start_opmode")},dt=()=>{h.sendMessage("stop_opmode")},vt=u('<section class="svelte-qkyd7t"><div class="flex svelte-qkyd7t"><button class="svelte-qkyd7t">Autos</button> <h3>OpMode Control</h3> <button class="svelte-qkyd7t">TeleOps</button></div> <!> <!> <!> <div class="flex svelte-qkyd7t"><button class="svelte-qkyd7t">Initialize</button> <button class="svelte-qkyd7t">Start</button> <button class="svelte-qkyd7t">Stop</button></div></section> <!>',1);function Mt(d,r){P(r,!0);let n=N("");function _(t){s(n)!=t?f(n,O(t)):f(n,"")}function m(t){f(o,O(t)),f(n,"")}H(()=>{if(console.log(a.currentOpMode),a.currentOpMode=="$Stop$Robot$")return;console.log("Length: ",a.opModes.length);let t=null;for(const e of a.opModes)e.name==a.currentOpMode&&(t=e);t!=null&&f(o,O(t))});let o=N(O({name:"",group:"",flavor:"AUTONOMOUS"}));var k=vt(),g=J(k),M=c(g),x=c(M);x.__click=[ot,_];var C=l(x,4);C.__click=[at,_],i(M);var R=l(M,2);{var D=t=>{var e=st(),v=c(e);G(v,{flavour:"AUTONOMOUS",onselect:m}),i(e),p(t,e)};b(R,t=>{s(n)=="autos"&&t(D)})}var T=l(R,2);{var I=t=>{var e=rt(),v=c(e);G(v,{flavour:"TELEOP",onselect:m}),i(e),p(t,e)};b(T,t=>{s(n)=="teleops"&&t(I)})}var U=l(T,2);{var Q=t=>{var e=nt();p(t,e)},V=t=>{var e=lt(),v=c(e),B=c(v,!0);i(v);var F=l(v);i(e),q(()=>{y(B,s(o).flavor),y(F,` ${s(o).name??""}`)}),p(t,e)};b(U,t=>{s(o).name==""?t(Q):t(V,!1)})}var A=l(U,2),S=c(A);S.__click=[it,o];var $=l(S,2);$.__click=[ct];var L=l($,2);L.__click=[dt],i(A),i(g);var Y=l(g,2);{var j=t=>{K(t,{get gamepad(){return E.gamepads[0]}})};b(Y,t=>{E.current!=null&&t(j)})}q(()=>{S.disabled=s(o).name==""||a.currentOpModeStatus=="running"&&a.currentOpMode!="$Stop$Robot$"||a.currentOpModeStatus=="stopped"&&a.currentOpMode!="$Stop$Robot$"||s(o).name!=""&&a.currentOpModeStatus=="init",$.disabled=a.currentOpMode=="$Stop$Robot$"||s(o).name==""||a.currentOpModeStatus!="init",L.disabled=a.currentOpMode=="$Stop$Robot$"||s(o).name==""||a.currentOpModeStatus=="stopped"}),p(d,k),w()}z(["click"]);export{Mt as component};
